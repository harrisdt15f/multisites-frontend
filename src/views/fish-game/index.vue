<template>
  <div class="fish_nr" @mouseenter="clearTime()" @mouseleave="startTime()">
    <div class="itemq1 itemq" style="display:block;">
      <img src="../../assets/images/fishGame/fish2/bg_1180.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt" style="top:100px;">
          <h2>捕鱼王2</h2>
          <img src="../../assets/images/fishGame/fish2/logo_1180.png" width="176" height="40" alt="AG}">
          <p class="cont_txt">3D画面及场景上更加逼真、更高之外，弹无虚发、百发百中等全新玩法更是吸引了众多线上平台玩家的目光。新的海底地图、新boss大金龙，以及100倍游戏场等给力玩法，吸引着各平台新玩家源源不断地加入到捕鱼的行列中来。而与其他用户一同狩猎深海BOSS、开启神秘宝箱、触发梦幻转盘的快感，让每位体验过AG《捕鱼王》的用户都感觉热血沸腾</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_1180.png" width="506" height="404" alt="捕鱼王2"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_20022.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt">
          <h2>深海大赢家</h2>
          <img src="../../assets/images/fishGame/fish2/logo_20022.png" width="176" height="40" alt="PT2}">
          <p class="cont_txt">功能齐全，启用自动和目标锁定发射；立体光影渲染，以及感官逼真的动物形象，各个细节方面都给玩家们带来切身的真实体验。在音效方面动静结合，静谧地流水声、加上游鱼撩动水花的叮咚声，使得每一个玩家都瞬间化身为深海的渔夫，各种鱼儿统统都进入囊中。</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_20022.png" width="506" height="404" alt="深海大赢家"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_23381.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt">
          <h2>捕鱼达人</h2>
          <img src="../../assets/images/fishGame/fish2/logo_23381.png" width="176" height="40" alt="BBIN}">
          <p class="cont_txt">多款道具(召唤、冰冻、锁定、狂暴)任由搭配，各出奇招，无视小鱼乘胜追击，爱怎么打就怎么打，连嬴大奖不是梦。其中还有击杀闪电鱼、隐藏版鳄鱼，弹无虚发任你打，金币喷发超有感！</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img" ><img src="../../assets/images/fishGame/fish2/pic_23381.png" width="506" height="404" alt="捕鱼达人"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_23382.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt">
          <h2>捕鱼大师</h2>
          <img src="../../assets/images/fishGame/fish2/logo_23382.png" width="176" height="40" alt="BBIN}">
          <p class="cont_txt">考验玩家的运气之余，更讲求超凡技巧，便利的自动捕鱼加上特殊武器，花式捕鱼爽快爆金。谁能以渐少子弹捕获得渐多高价大鱼，便成达人称雄霸榜呢？！超乎你的想象。</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_23382.png" width="506" height="404" alt="捕鱼大师"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_23968.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt" >
          <h2>皇金渔场2</h2>
          <img src="../../assets/images/fishGame/fish2/logo_23968.png" width="176" height="40" alt="CQ9">
          <p class="cont_txt">皇金渔场--「海底总动员」，是一部经典的动画片巨作，也是许多人的童年记忆。而为了向这部电影致敬，游戏公司CQ9最近也推出新游戏「皇金渔场」，与广大的影迷一同庆祝「海底总动员」15周年的到来。
            本游戏中有许多不同的鱼种，像是小丑鱼、蓝倒吊、镰鱼、鲨鱼、海星等，让影迷在庆祝「海底总动员」15周年之余，也能与游戏公司CQ9一起进入「皇金渔场」的精采世界，来一场惊险刺激的冒险旅程!</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_23968.png" width="506" height="404" alt="皇金渔场2"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_22600.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt" >
          <h2>空战世纪</h2>
          <img src="../../assets/images/fishGame/fish2/logo_22600.png" width="176" height="40" alt="ALLBET}">
          <p class="cont_txt" >空战世纪是一款以空战作为题材的全概率射击游戏，游戏获得英国菠菜监管委员会（UKGC）认可，在游戏中从古今中外共提供了83款战机，并收录从第一次世界大战至今共计超过100款的真实战机资料和历史说明；而玩法方面则设有不同倍数场的6款战场背景丶5款不同等级的航炮丶自动与锁定射击功能丶累积Jackpot大奖等等，全新概率射击游戏结合拟真的战机与动画设计，让千万军事迷沉醉於翱翔空中的射击快感！精彩刺激的世纪之战现已上线，您准备好了吗？</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_22600.png" width="506" height="404" alt="空战世纪"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_24162.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt">
          <h2>财神捕鱼</h2>
          <img src="../../assets/images/fishGame/fish2/logo_24162.png" width="176" height="40" alt="jdb168}">
          <p class="cont_txt">游戏拥有23款鱼种，最高赔率达到1,000倍，同时支援4人联机同场游玩 3种注额场供会员选择入场，注额越高越有机会赢得丰厚奖励 免费奖励  机关炮：免费子弹最多可累积999发 钻头炮：提升击杀鱼群速度 财神：随机赔率最高可达300倍 财神发发发：随机赔率最高可达1000倍</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_24162.png" width="506" height="404" alt="财神捕鱼"></div>
      </div>
    </div>
    <div class="itemq1 itemq">
      <img src="../../assets/images/fishGame/fish2/bg_22829.jpg" class="itemq-img">
      <div class="wrapper">
        <div class="fish_txt" >
          <h2>龙王捕鱼</h2>
          <img src="../../assets/images/fishGame/fish2/logo_22829.png" width="176" height="40" alt="jdb168}">
          <p class="cont_txt">蕴藏在深海中的传说宝藏与龙珠，在龙宫仙女、金龙、海洋生物的守护下，等待各位来猎取! 召集您好友，快点加入JDB捕鱼行列中，使用威力强大的龙王炮，获得30颗免费炮弹，更容易捕获海底生物与满满财宝，实现您一夜致富的梦想。</p>
          <a href="javascript:;" target="_blank">进入游戏 <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span></a>
        </div>
        <div class="fish_img"><img src="../../assets/images/fishGame/fish2/pic_22829.png" width="506" height="404" alt="龙王捕鱼"></div>
      </div>
    </div>
    
    <div class="snow-container">
      <ul>
        <li data-snow="snow_1180" class="active">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_1180.png">
          </div>
          <div class="button">AG</div>
          <div class="button">捕鱼王2</div>
        </li>
        <li data-snow="snow_20022" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_20022.png">
          </div>
          <div class="button">PT2</div>
          <div class="button">深海大赢家</div>
        </li>
        <li data-snow="snow_23381" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_23381.png">
          </div>
          <div class="button">BBIN</div>
          <div class="button">捕鱼达人</div>
        </li>
        <li data-snow="snow_23382" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_23382.png">
          </div>
          <div class="button">BBIN</div>
          <div class="button">捕鱼大师</div>
        </li>
        <li data-snow="snow_23968" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_23968.png">
          </div>
          <div class="button">CQ9</div>
          <div class="button">皇金渔场2</div>
        </li>
        <li data-snow="snow_22600" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_22600.png">
          </div>
          <div class="button">ALLBET</div>
          <div class="button">空战世纪</div>
        </li>
        <li data-snow="snow_24162" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_24162.png">
          </div>
          <div class="button">jdb168</div>
          <div class="button">财神捕鱼</div>
        </li>
        <li data-snow="snow_22829" class="">
          <div class="img_p">
            <img src="../../assets/images/fishGame/fish2/icon_22829.png">
          </div>
          <div class="button">jdb168</div>
          <div class="button">龙王捕鱼</div>
        </li>
        <!--                 <div class="fish_left"></div>
		<div class="fish_right"></div> -->
      </ul></div>
    <canvas id="canvas"></canvas>
    <canvas></canvas></div>
</template>

<script>
  /* eslint-disable */
import '../../utils/jquery-1.8.2'
import smokemachine from '../../utils/smoke'
import '../../utils/three'

export default {
  name: 'fish-game',
  data () {
    return {
      curIndex: 0,
      time: 800,
      slideTime: 3000,
      int: null
    }
  },
  created () {
  },
  mounted () {
    let ts = this
    let canvas = document.getElementById('canvas')
    let ctx = canvas.getContext('2d')
  
    let party = smokemachine(ctx, [54, 16.8, 18.2])
    party.start() // start animating
  
    canvas.onmousemove = (e) => {
      let x = e.clientX
      let y = e.clientY
      let n = .5
      let t = Math.floor(Math.random() * 200) + 3800
      party.addsmoke(x, y, n, t)
    }
  
    setInterval(function(){
      party.addsmoke(canvas.width/2, canvas.height, 1)
    }, 100)
    
    ts.startTime()
    $(".snow-container > ul > li").click(function () {
      let n=$(this).index();
      if(n !== ts.curIndex){
        ts.show(n);
      }
    })

  },
  methods: {
    
    startTime () {
      clearInterval(this.int)
      this.int = setInterval(this.autoSlide, this.slideTime)
    },
    
    clearTime () {
      clearInterval(this.int)
    },
    
    autoSlide () {
      let ts = this
      ts.curIndex + 1 >= $(".fish_nr .itemq").size() ? ts.curIndex = -1 : false
      ts.show(ts.curIndex + 1);
    },
    
    show (index) {
      let ts = this
      let adTxt = $(".fish_nr .itemq .fish_txt");
      let adImg = $(".fish_nr .itemq .fish_img");
      if($(".snow-container>ul>li").eq(index).data('snow') =='snow_22600'){
        $(".fish_nr canvas").hide();
        $(".fish_nr #canvas").stop().fadeIn();
      }else{
        $(".fish_nr canvas").stop().fadeIn();
        $(".fish_nr #canvas").hide();
      }
      $(".snow-container>ul>li").stop(false, true).eq(index).addClass('active').siblings().removeClass('active');
      $.easing.def = "easeOutQuad";
      $(".fish_nr .itemq").eq(ts.curIndex).stop(false, true).fadeOut(ts.time);
      adTxt.eq(ts.curIndex).stop(false, true).animate({ top: "340px" }, ts.time);
      adImg.eq(ts.curIndex).stop(false, true).animate({ right: "120px" }, ts.time);
    
      $(".fish_nr .itemq").eq(index).stop(false, true).fadeIn(ts.time);
      adTxt.eq(index).children("p").css({ paddingTop: "50px", paddingBottom: "50px" }).stop(false, true).animate({ paddingTop: "0", paddingBottom: "0" }, ts.time);
      adTxt.eq(index).css({ top: "0", opacity: "0" }).stop(false, true).animate({ top: "100px", opacity: "1" }, ts.time);
      adImg.eq(index).css({ right: "-50px", opacity: "0" }).stop(false, true).animate({ right: "10px", opacity: "1" }, ts.time);
      ts.curIndex = index;
    }
  }
}
</script>

<style lang="scss" scoped>
  .fish_nr{
    width:100%;
    position: relative;
    height: 730px;
    overflow: hidden;
  }
  .itemq{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-position: center;
    background-size: cover;
    display:none;
  }
  .itemq .fish_txt{
    position: absolute;
    left: 10px;
    color: #fff;
    text-shadow: 1px 1px rgba(51,51,51,0.5);
    width: 450px;
    z-index: 5;
    font-size: 15px;
  }
  .itemq-img{
    position:absolute;
    left:0;
    top:0;
    width:100%;
    height:100%;
  }
  .cont_txt{
    margin: 10px 0;
    font-size: 16px;
    line-height: 1.5;
    text-shadow: #000 1px 1px 2px;
  }
  .fish_txt img{
    width: 176px;
    height: 40px;
    max-width: 176px;
  }
  .itemq  .wrapper {
    width: 980px;
    margin: 0 auto;
    position: relative;
  }
  .itemq .fish_txt h2{
    font: 36px/60px Microsoft YaHei;
    letter-spacing: 3px;
    margin: 0;
    text-shadow: 1px 1px rgba(51,51,51,0.5);
  }
  .itemq .fish_txt a {
    display: block;
    font-weight: normal;
    padding: 10px 20px;
    font-size: 25px;
    color: #fff;
    border-radius: 30px;
    text-align: center;
    margin-top: 20px;
    text-decoration: none;
    text-shadow: none;
    background-image: linear-gradient(to top, #f83600 0%, #f9d423 100%);
  }
  .itemq .fish_txt a:hover {
    background-image: linear-gradient(to top, #ff0000 0%, #ff6b6b 100%);
  }
  .itemq .fish_img{
    position: absolute;
    right: 10px;
    top: 50px;
    width: 506px;
    height: 404px;
  }
  .snow-container{
    width:100%;
    background:rgba(255,255,255,0.3);
    bottom:120px;
    position:absolute;
    height:120px;
    z-index:5;
  }
  .snow-container ul{
    width: 980px;
    margin:0 auto;
    height:100%;
    padding: 5px 0;
    list-style-type: none;
    text-align: center;
  }
  .snow-container ul:after{
    display:table;
    content: "";
    clear: both;
  }
  .snow-container ul li{
    height:100px;
    width:90px;
    margin-left: 8px;
    display:inline-block;
    vertical-align: middle;
    cursor:pointer;
    list-style-type: none;
  }
  
  .snow-container ul li .img_p{
    background-color:rgba(5, 104, 143,0.65);
    position:relative;
    width: 90px;
    height: 70px;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
  }
  .snow-container ul li .img_p img{
    position: absolute;
    top:-12px;
  }
  .snow-container ul li .button{
    background-color:#003b5b;
    color: #fff;
    width:100%;
    height:20px;
    line-height: 20px;
    text-align: center;
    font-size: 12px;
  }
  .snow-container ul li:hover .button,
  .snow-container ul li.active .button{
    color: #ff0;
    background-color:#d66d00;
  }
  .snow-container ul li:hover .img_p,
  .snow-container ul li.active .img_p{
    background-color:rgba(255, 235, 59,1);;
  }
  .fish_nr >canvas{
    position:absolute;
    z-index:1;
  }

</style>

